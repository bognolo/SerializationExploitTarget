package test;

import java.io.FileInputStream;
import java.io.IOException;
import java.io.ObjectInputStream;

/*
 * This class retrieve from the file system a serialized object assumed to be an instance of Payload 
 * and display a message to the console
 */
public class Naive {
	// File to read to retrieve the payload
	public static final String INPUT_FILE = "/tmp/payload.ser";

	// Read the payload and show the result 
	public static void main(String[] args) throws IOException, ClassNotFoundException {
		Payload payload = null;
		try (FileInputStream fin = new FileInputStream(INPUT_FILE);
				ObjectInputStream ois = new ObjectInputStream(fin);) {
			payload = (Payload) ois.readObject();
			System.out.println("Payload read successfully: " + payload);
		}
	}
}
